---
// A smart breadcrumb component that auto-generates links based on the current path
const paths = Astro.url.pathname.split('/').filter(Boolean);

// We map common paths to readable names
const formatLabel = (str: string) => {
  return str.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
};
---

<div class="text-sm breadcrumbs mb-4 text-base-content/60">
  <ul>
    <li>
      <a href="/" class="hover:text-primary transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        Home
      </a>
    </li>

    {paths.map((path, index) => {
      // Reconstruct the URL for this segment
      const href = `/${paths.slice(0, index + 1).join('/')}`;
      const isLast = index === paths.length - 1;
      const label = formatLabel(path);

      return (
        <li>
          {isLast ? (
            <span class="font-medium text-base-content" aria-current="page">
              {label}
            </span>
          ) : (
            <a href={href} class="hover:text-primary transition-colors">
              {label}
            </a>
          )}
        </li>
      );
    })}
  </ul>
</div>
