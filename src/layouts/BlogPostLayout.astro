---
import type { CollectionEntry } from 'astro:content';
import BaseLayout from './BaseLayout.astro';
import { formatDate } from '../utils'; // We will create this utils file next

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description} image={heroImage}>
  <article class="max-w-4xl mx-auto">
    {heroImage && (
      <div class="mb-8 rounded-box overflow-hidden shadow-xl aspect-video relative">
        <img 
          src={heroImage} 
          alt={title} 
          class="object-cover w-full h-full"
        />
      </div>
    )}

    <header class="mb-10 text-center">
      <h1 class="text-4xl md:text-5xl font-extrabold mb-4">{title}</h1>
      <div class="text-base-content/60 flex items-center justify-center gap-4 text-sm">
        <time datetime={pubDate.toISOString()}>{formatDate(pubDate)}</time>
        {updatedDate && (
          <div class="italic">
            (Updated: <time datetime={updatedDate.toISOString()}>{formatDate(updatedDate)}</time>)
          </div>
        )}
      </div>
      <hr class="border-base-content/10 mt-8" />
    </header>

    <div class="prose prose-lg max-w-none prose-headings:font-bold prose-a:text-primary hover:prose-a:text-primary-focus">
      <slot />
    </div>
  </article>
</BaseLayout>
